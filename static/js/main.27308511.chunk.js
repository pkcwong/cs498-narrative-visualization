(this["webpackJsonpcs498-narrative-visualization"]=this["webpackJsonpcs498-narrative-visualization"]||[]).push([[0],{72:function(e,t,n){e.exports=n(79)},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(27),s=n.n(r),i=(n(77),n(5)),c=n(1),u=n(9),l=n(10),d=n(11),_=n(12),f=n(13),h=(n(78),n(2)),m=function(e){Object(f.a)(n,e);var t=Object(_.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"cartesian"}))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props.width,o=this.props.height,r=this.props.dataset;console.log(r),document.getElementById("cartesian").innerHTML="";var s=h.f("#cartesian").append("svg");s.attr("width",a),s.attr("height",o);var i=h.e().domain([0,1]).range([0,a]),c=h.e().domain([1,0]).range([0,o]);s.append("g").attr("transform","translate(0,"+o/2+")").call(h.a(i)),s.append("g").attr("transform","translate("+a/2+",0)").call(h.b(c));var u=function(e){return e.would_use/(e.would_not_use+e.would_use)},l=function(e){return(e.would_not_use+e.would_use)/(e.never_heard+e.interested+e.not_interested+e.would_not_use+e.would_use)};Object.keys(r).forEach((function(e){var t=s.append("g").append("path"),n=[[u(r[e].tally2016),l(r[e].tally2016)],[u(r[e].tally2017),l(r[e].tally2017)],[u(r[e].tally2018),l(r[e].tally2018)],[u(r[e].tally2019),l(r[e].tally2019)]],a=h.d().curve(h.c);a.x((function(e){return i(e[0])})),a.y((function(e){return c(e[1])})),t.datum(n).attr("stroke","blue").attr("stroke-width",2).attr("fill","none").attr("d",a)}))}}]),n}(o.a.Component),p=function(e){Object(f.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={screen:{width:0,height:0},"state_of_js_2016_normalized_responses_anon.json":[],"state_of_js_2017_normalized_responses_anon.json":[],"state_of_js_2018_normalized_responses_anon.json":[],"state_of_js_2019_normalized_responses_anon.json":[],dataset:{}},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Popularity of Front End Frameworks"),o.a.createElement(m,{width:1e3,height:600,dataset:this.state.dataset}))}},{key:"componentDidMount",value:function(){var e=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions);var t=function(t){return fetch(function(e){return"https://raw.githubusercontent.com/pkcwong/cs498-narrative-visualization/master/data/"+e}(t)).then((function(e){return e.json()})).then((function(n){e.setState(Object(c.a)({},t,n))})).catch((function(e){console.error(e)}))};Promise.all([t("state_of_js_2016_normalized_responses_anon.json"),t("state_of_js_2017_normalized_responses_anon.json"),t("state_of_js_2018_normalized_responses_anon.json"),t("state_of_js_2019_normalized_responses_anon.json")]).then((function(){var t={would_use:2,interested:1,never_heard:0,not_interested:-1,would_not_use:-2},n=function(e,t){return function(n){return e.map((function(e){var t,a;return null===(t=e.tools)||void 0===t||null===(a=t[n])||void 0===a?void 0:a.experience})).reduce((function(e,t){return t?Object(i.a)({},e,Object(c.a)({},t,e[t]+1)):e}),Object.keys(t).reduce((function(e,t){return Object(i.a)({},e,Object(c.a)({},t,0))}),{}))}},a={tally2016:n(e.state["state_of_js_2016_normalized_responses_anon.json"],t),tally2017:n(e.state["state_of_js_2017_normalized_responses_anon.json"],t),tally2018:n(e.state["state_of_js_2018_normalized_responses_anon.json"],t),tally2019:n(e.state["state_of_js_2019_normalized_responses_anon.json"],t)},o=["react","vuejs","angular","ember"].reduce((function(e,t){return Object(i.a)({},e,Object(c.a)({},t,Object.keys(a).reduce((function(e,n){return Object(i.a)({},e,Object(c.a)({},n,a[n](t)))}),{})))}),{});e.setState({dataset:o})})).catch((function(e){console.error(e)}))}},{key:"updateWindowDimensions",value:function(){this.setState({screen:{width:window.innerWidth,height:window.innerHeight}})}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.27308511.chunk.js.map