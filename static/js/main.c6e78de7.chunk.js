(this["webpackJsonpcs498-narrative-visualization"]=this["webpackJsonpcs498-narrative-visualization"]||[]).push([[0],{73:function(t,e,n){t.exports=n(81)},78:function(t,e,n){},79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(27),s=n.n(o),i=(n(78),n(6)),c=n(2),l=n(10),u=n(11),d=n(5),p=n(12),_=n(13),f=(n(79),n(28)),m=n(1),h=(n(80),function(t){Object(_.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"cartesian"}))}},{key:"componentDidUpdate",value:function(t,e,n){var a=this.props.width,r=this.props.height,o=this.props.dataset;console.log(o),document.getElementById("cartesian").innerHTML="";var s=m.g("#cartesian").append("svg");s.attr("width",a),s.attr("height",r);var i=m.g("body").append("div").attr("class","tooltip").style("opacity",0),c=m.f().domain([-.12,1.12]).range([0,a]),l=m.f().domain([1.12,-.12]).range([0,r]);s.append("g").attr("class","axis").attr("transform","translate(0,"+r/2+")").call(m.a(c)),s.append("g").attr("class","axis").attr("transform","translate("+a/2+",0)").call(m.b(l)),s.append("text").attr("transform","translate(72,"+(r/2-2)+")").style("text-anchor","middle").text("Negative Feedback"),s.append("text").attr("transform","translate("+(a-72)+","+(r/2-2)+")").style("text-anchor","middle").text("Positive Feedback"),s.append("text").attr("transform","translate("+(a/2+16)+",12)").text("Popular"),s.append("text").attr("transform","translate("+(a/2+16)+","+(r-12)+")").text("Unpopular");var u=function(t){return(t.would_use+t.interested)/(t.would_not_use+t.would_use+t.not_interested+t.interested)},d=function(t){return(t.would_not_use+t.would_use)/(t.never_heard+t.interested+t.not_interested+t.would_not_use+t.would_use)};s.append("svg:defs").append("svg:marker").attr("id","triangle").attr("refX",6).attr("refY",6).attr("markerWidth",64).attr("markerHeight",64).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 0 0 12 6 0 12 3 6").style("fill","black"),Object.keys(o).forEach((function(t){var e=function(t){return function(e){var n=[];return["tally2016","tally2017","tally2018","tally2019"].forEach((function(a){0!==t[e][a].would_use&&(n=[].concat(Object(f.a)(n),[{tally:a,opinion:u(t[e][a]),popularity:d(t[e][a])}]))})),n}}(o)(t),n={react:"DeepPink",vuejs:"DeepPink",angular:"DeepPink",ember:"deeppink",express:"DarkSlateBlue",meteor:"DarkSlateBlue",jest:"GoldenRod",mocha:"GoldenRod"},a=s.append("g").append("path"),r=m.e().curve(m.c);r.x((function(t){return c(t.opinion)})),r.y((function(t){return l(t.popularity)})),a.datum(e).attr("stroke",n[t]?n[t]:"black").attr("stroke-width",4).attr("fill","none").attr("d",r),a.attr("marker-end","url(#triangle)");var p=s.append("g").append("text");p.attr("transform","translate("+(c(e[e.length-1].opinion)+12)+","+(l(e[e.length-1].popularity)+-20)+")"),p.text(t);var _=s.append("g").selectAll("circle").data(e).enter().append("circle");_.attr("cx",(function(t){return c(t.opinion)})),_.attr("cy",(function(t){return l(t.popularity)})),_.attr("r",(function(){return 3})),_.on("mouseover",(function(e){i.transition().duration(200).style("opacity",.9),i.html(t+" "+e.tally.substring(5)+" </br>popularity: "+Math.floor(100*e.popularity)+"%</br>opinion: "+Math.floor(100*e.opinion)+"%").style("left",m.d.pageX+"px").style("top",m.d.pageY-24+"px")})),_.on("mouseout",(function(){i.transition().duration(800).style("opacity",0)}))}))}}]),n}(r.a.Component)),v=function(t){Object(_.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={screen:{width:0,height:0},"state_of_js_2016_normalized_responses_anon.json":[],"state_of_js_2017_normalized_responses_anon.json":[],"state_of_js_2018_normalized_responses_anon.json":[],"state_of_js_2019_normalized_responses_anon.json":[],dataset:{},page:"Trend"},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(d.a)(a)),a.switchPage=a.switchPage.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:24}},r.a.createElement("h2",null,"Trend of Javascript Web Development Frameworks and Libraries"),r.a.createElement("p",null,r.a.createElement("button",{onClick:this.switchPage("Trend")},"Trend"),r.a.createElement("button",{onClick:this.switchPage("Leaderboard")},"Leaderboard")),"Trend"===this.state.page?r.a.createElement(h,{width:1e3,height:600,dataset:this.state.dataset}):void 0))}},{key:"componentDidMount",value:function(){var t=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions);var e=function(e){return fetch(function(t){return"https://raw.githubusercontent.com/pkcwong/cs498-narrative-visualization/master/data/"+t}(e)).then((function(t){return t.json()})).then((function(n){t.setState(Object(c.a)({},e,n))})).catch((function(t){console.error(t)}))};Promise.all([e("state_of_js_2016_normalized_responses_anon.json"),e("state_of_js_2017_normalized_responses_anon.json"),e("state_of_js_2018_normalized_responses_anon.json"),e("state_of_js_2019_normalized_responses_anon.json")]).then((function(){var e={would_use:2,interested:1,never_heard:0,not_interested:-1,would_not_use:-2},n=function(t,e){return function(n){return t.map((function(t){var e,a;return null===(e=t.tools)||void 0===e||null===(a=e[n])||void 0===a?void 0:a.experience})).reduce((function(t,e){return e?Object(i.a)({},t,Object(c.a)({},e,t[e]+1)):t}),Object.keys(e).reduce((function(t,e){return Object(i.a)({},t,Object(c.a)({},e,0))}),{}))}},a={tally2016:n(t.state["state_of_js_2016_normalized_responses_anon.json"],e),tally2017:n(t.state["state_of_js_2017_normalized_responses_anon.json"],e),tally2018:n(t.state["state_of_js_2018_normalized_responses_anon.json"],e),tally2019:n(t.state["state_of_js_2019_normalized_responses_anon.json"],e)},r=["react","vuejs","angular","ember","express","meteor","jest","mocha"].reduce((function(t,e){return Object(i.a)({},t,Object(c.a)({},e,Object.keys(a).reduce((function(t,n){return Object(i.a)({},t,Object(c.a)({},n,a[n](e)))}),{})))}),{});t.setState({dataset:r})})).catch((function(t){console.error(t)}))}},{key:"updateWindowDimensions",value:function(){this.setState({screen:{width:window.innerWidth,height:window.innerHeight}})}},{key:"switchPage",value:function(t){var e=this;return function(){e.setState({page:t},(function(){e.forceUpdate()}))}}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.c6e78de7.chunk.js.map