(this["webpackJsonpcs498-narrative-visualization"]=this["webpackJsonpcs498-narrative-visualization"]||[]).push([[0],{71:function(e,t,a){e.exports=a(80)},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),o=a.n(s),i=(a(76),a(10)),l=a(6),c=a(2),u=a(3),d=a(9),p=a(4),h=a(5),m=(a(77),a(28)),f=a(1),v=(a(78),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={slide:0,focus:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{id:"cartesian"}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{disabled:0===this.state.slide,onClick:function(){return e.setState({slide:e.state.slide-1})}},"prev slide"),r.a.createElement("button",{disabled:4===this.state.slide,onClick:function(){return e.setState({slide:e.state.slide+1})}},"next slide")),0===this.state.slide?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Javascript has become one of the most popular languages in web development. It has transitioned from pure front end scripting to the full stack."),r.a.createElement("p",null,"Web developers now use Javascript to create dynamic web pages and deploy web servers. Many Javascript frameworks and libraries surfaced to meet the great demands."),r.a.createElement("p",null,"It would be interesting to assess the performance of each library, however assessment criteria may be subjective. We can however conduct a survey and gather opinions from users."),r.a.createElement("p",null,"The dataset used is downloaded from StateOfJs, conducted a survey every year from 2016 on various Javascript frameworks and libraries. Survey takers would respond to each framework:"),r.a.createElement("ul",null,r.a.createElement("li",null,"would use"),r.a.createElement("li",null,"would not use"),r.a.createElement("li",null,"interested"),r.a.createElement("li",null,"not interested"),r.a.createElement("li",null,"never heard")),r.a.createElement("p",null,"This would give us great insight on the performance of each Javascript framework."),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Hover over black data points for yearly survey results."),r.a.createElement("li",null,"Hover over the legend at the bottom of the chart to inspect each category."))):void 0,1===this.state.slide?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The top right side of the chart shows the most popular Javascript frameworks."),r.a.createElement("p",null,"In fact ReactJS, ExpressJS and Jest tech stack is one of the most popular Full Stack bundle of choice.")):void 0,2===this.state.slide?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The top left side of the chart shows AngularJS developed by Google."),r.a.createElement("p",null,"AngularJS started off as a potential complete solution to front end. Without competitors, it receives good feedback with an increasing user base."),r.a.createElement("p",null,"However, AngularJS started introducing huge upgrades, including code breaking changes from Angular to Angular2. This induces trust issues with programmers."),r.a.createElement("p",null,"With new uprising competitors such as ReactJS and VueJS, AngularJS is slowly in decline.")):void 0,3===this.state.slide?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"MeteorJS used to hype the community by introducing an all-in-one Full Stack framework on its own."),r.a.createElement("p",null,"This proved to be too aggressive, MeteorJS is slowly in decline.")):void 0,4===this.state.slide?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"VueJS and NextJS are also frameworks with great potential. Both are rising in user base and feedback.")):void 0)),r.a.createElement("div",{id:"legend-cartesian"}))}},{key:"componentDidMount",value:function(){this.repaint()}},{key:"componentDidUpdate",value:function(e,t,a){this.repaint()}},{key:"repaint",value:function(){this.repaintChart(),this.repaintLegend()}},{key:"repaintChart",value:function(){var e=this;document.getElementById("cartesian").innerHTML="";var t=this.props.width,a=this.props.height,n=this.props.dataset,r=f.j("#cartesian").append("svg");r.attr("width",t),r.attr("height",a);var s=f.j("body").append("div").attr("class","tooltip").style("opacity",0),o=f.i().domain([-.12,1.12]).range([0,t]),i=f.i().domain([1.12,-.12]).range([0,a]);r.append("g").attr("class","axis").attr("transform","translate(0,"+a/2+")").call(f.b(o)),r.append("g").attr("class","axis").attr("transform","translate("+t/2+",0)").call(f.c(i)),r.append("text").attr("transform","translate(72,"+(a/2-2)+")").style("text-anchor","middle").text("Negative Feedback"),r.append("text").attr("transform","translate("+(t-72)+","+(a/2-2)+")").style("text-anchor","middle").text("Positive Feedback"),r.append("text").attr("transform","translate("+(t/2+16)+",12)").text("Popular"),r.append("text").attr("transform","translate("+(t/2+16)+","+(a-12)+")").text("Unpopular");var l=function(e){return(e.would_use+e.interested)/(e.would_not_use+e.would_use+e.not_interested+e.interested)},c=function(e){return(e.would_not_use+e.would_use)/(e.never_heard+e.interested+e.not_interested+e.would_not_use+e.would_use)};r.append("svg:defs").append("svg:marker").attr("id","triangle").attr("refX",6).attr("refY",6).attr("markerWidth",72).attr("markerHeight",72).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 0 0 12 6 0 12 3 6").style("fill","black"),Object.keys(n).forEach((function(t){var a=function(e){return function(t){var a=[];return["tally2016","tally2017","tally2018","tally2019"].forEach((function(n){0!==e[t][n].would_use&&(a=[].concat(Object(m.a)(a),[{tally:n,opinion:l(e[t][n]),popularity:c(e[t][n])}]))})),a}}(n)(t),u={react:"#F88DAD",vuejs:"#F88DAD",angular:"#F88DAD",ember:"#F88DAD",express:"#1D2F6F",meteor:"#1D2F6F",nextjs:"#1D2F6F",jest:"#FAC748",mocha:"#FAC748",jasmine:"#FAC748"},d=function(t){return 0===e.state.focus.length||e.state.focus.includes(t)?1:.08},p=r.append("g").append("path"),h=f.g().curve(f.d);h.x((function(e){return o(e.opinion)})),h.y((function(e){return i(e.popularity)})),p.datum(a).attr("stroke",u[t]?u[t]:"black").attr("stroke-width",4).attr("fill","none").attr("d",h),p.attr("marker-end","url(#triangle)"),p.style("opacity",d(t));var v=r.append("g").append("text");v.attr("transform","translate("+(o(a[a.length-1].opinion)+12)+","+(i(a[a.length-1].popularity)+-20)+")"),v.style("opacity",d(t)),v.text(t);var g=r.append("g").selectAll("circle").data(a).enter().append("circle");g.attr("cx",(function(e){return o(e.opinion)})),g.attr("cy",(function(e){return i(e.popularity)})),g.attr("r",(function(){return 4})),g.style("opacity",(function(e){return"tally2019"===e.tally?0:d(t)})),g.on("mouseover",(function(e){s.transition().duration(200).style("opacity",.9),s.html(t+" "+e.tally.substring(5)+" </br>popularity: "+Math.floor(100*e.popularity)+"%</br>opinion: "+Math.floor(100*e.opinion)+"%").style("left",f.f.pageX+"px").style("top",f.f.pageY-24+"px")})),g.on("mouseout",(function(){s.transition().duration(800).style("opacity",0)}))}));var u=function(e,t,a){var n=r.append("g").append("circle");n.attr("cx",e),n.attr("cy",t),n.attr("r",a),n.attr("stroke","blue"),n.attr("fill","none")};1===this.state.slide&&u(980,248,100),2===this.state.slide&&u(440,320,100),3===this.state.slide&&u(440,640,100),4===this.state.slide&&u(860,480,100)}},{key:"repaintLegend",value:function(){var e=this;document.getElementById("legend-cartesian").innerHTML="";var t=this.props.width,a=this.props.height/4,n=f.j("#legend-cartesian").append("svg");n.attr("width",t),n.attr("height",a);var r={Frontend:"#F88DAD",Backend:"#1D2F6F",Testing:"#FAC748"},s=n.selectAll("legend").data(Object.keys(r)).enter().append("circle");s.attr("cx",(function(e,t){return 20+256*t})),s.attr("cy",20),s.attr("r",12),s.style("fill",(function(e){return r[e]})),s.on("mouseover",(function(t){e.setState({focus:{Frontend:["react","vuejs","angular","ember"],Backend:["express","meteor","nextjs"],Testing:["jest","mocha","jasmine"]}[t]},(function(){e.repaintChart()}))}));var o=n.selectAll("legend").data(Object.keys(r)).enter().append("text");o.attr("x",(function(e,t){return 48+256*t})),o.attr("y",20),o.text((function(e){return e})),o.attr("text-anchor","left"),o.style("alignment-baseline","middle")}}]),a}(r.a.Component)),g=(a(79),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.framework;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,e),r.a.createElement("div",{id:"pie-"+e}))}},{key:"componentDidMount",value:function(){this.repaint()}},{key:"componentDidUpdate",value:function(e,t,a){this.repaint()}},{key:"repaint",value:function(){var e=this.props.width,t=this.props.height,a=this.props.framework,n=this.props.dataset;document.getElementById("pie-"+a).innerHTML="";var r=f.j("#pie-"+a).append("svg");r.attr("width",e),r.attr("height",t);var s=r.append("g");s.attr("transform","translate("+e/2+","+t/2+")"),r.append("g").classed("labels",!0),r.append("g").classed("lines",!0);var o=Math.min(e,t)/6,i=f.h().value((function(e){return e.value})).sort(null)(f.e(n)),l=f.a().innerRadius(0).outerRadius(o),c={would_use:"DarkGreen",interested:"DarkOliveGreen",not_interested:"Brown",would_not_use:"Crimson",never_heard:"DimGrey"},u=s.selectAll("slice").data(i).enter().append("path");u.attr("d",l),u.attr("fill",(function(e){return c[e.data.key]})),u.attr("stroke","black"),u.style("stroke-width","2px"),u.style("opacity",.7);var d=s.selectAll("slice").data(i).enter().append("text");d.text((function(e){return e.endAngle-e.startAngle>.2?e.data.key:""})),d.attr("transform",(function(e){var t=l.centroid(e);return"translate("+3.2*t[0]+","+3.2*t[1]+")"})),d.style("text-anchor","middle"),d.style("font-size",16)}}]),a}(r.a.Component)),y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a,n=this.props.width,s=this.props.height,o=this.props.dataset;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{width:n,height:s,framework:"react",dataset:null===(e=o.react)||void 0===e?void 0:e.tally2019}),r.a.createElement(g,{width:n,height:s,framework:"express",dataset:null===(t=o.express)||void 0===t?void 0:t.tally2019}),r.a.createElement(g,{width:n,height:s,framework:"jest",dataset:null===(a=o.jest)||void 0===a?void 0:a.tally2019}))}}]),a}(r.a.Component),_=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={screen:{width:0,height:0},"state_of_js_2016_normalized_responses_anon.json":[],"state_of_js_2017_normalized_responses_anon.json":[],"state_of_js_2018_normalized_responses_anon.json":[],"state_of_js_2019_normalized_responses_anon.json":[],dataset:{},page:"Trend"},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(d.a)(n)),n.switchPage=n.switchPage.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:24}},r.a.createElement("h2",null,"Trend of Javascript Web Development Frameworks and Libraries"),r.a.createElement("p",null,r.a.createElement("button",{onClick:this.switchPage("Trend")},"Trend"),r.a.createElement("button",{onClick:this.switchPage("Leaderboard")},"Leaderboard")),0===Object.keys(this.state.dataset).length?r.a.createElement("p",null,"Loading dataset..."):void 0,"Trend"===this.state.page?r.a.createElement(v,{width:1200,height:800,dataset:this.state.dataset}):void 0,"Leaderboard"===this.state.page?r.a.createElement(y,{width:1200,height:360,dataset:this.state.dataset}):void 0))}},{key:"componentDidMount",value:function(){var e=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions);var t=function(t){return fetch(function(e){return"https://raw.githubusercontent.com/pkcwong/cs498-narrative-visualization/master/data/"+e}(t)).then((function(e){return e.json()})).then((function(a){e.setState(Object(l.a)({},t,a))})).catch((function(e){console.error(e)}))},a=[t("state_of_js_2016_normalized_responses_anon.json"),t("state_of_js_2017_normalized_responses_anon.json"),t("state_of_js_2018_normalized_responses_anon.json"),t("state_of_js_2019_normalized_responses_anon.json")];Promise.all(a).then((function(){var t={would_use:2,interested:1,never_heard:0,not_interested:-1,would_not_use:-2},a=function(e,t){return function(a){return e.map((function(e){var t,n;return null===(t=e.tools)||void 0===t||null===(n=t[a])||void 0===n?void 0:n.experience})).reduce((function(e,t){return t?Object(i.a)({},e,Object(l.a)({},t,e[t]+1)):e}),Object.keys(t).reduce((function(e,t){return Object(i.a)({},e,Object(l.a)({},t,0))}),{}))}},n={tally2016:a(e.state["state_of_js_2016_normalized_responses_anon.json"],t),tally2017:a(e.state["state_of_js_2017_normalized_responses_anon.json"],t),tally2018:a(e.state["state_of_js_2018_normalized_responses_anon.json"],t),tally2019:a(e.state["state_of_js_2019_normalized_responses_anon.json"],t)},r=["react","vuejs","angular","ember","express","meteor","nextjs","jest","mocha","jasmine"].reduce((function(e,t){return Object(i.a)({},e,Object(l.a)({},t,Object.keys(n).reduce((function(e,a){return Object(i.a)({},e,Object(l.a)({},a,n[a](t)))}),{})))}),{});e.setState({dataset:r})})).catch((function(e){console.error(e)}))}},{key:"updateWindowDimensions",value:function(){this.setState({screen:{width:window.innerWidth,height:window.innerHeight}})}},{key:"switchPage",value:function(e){var t=this;return function(){t.setState({page:e},(function(){t.forceUpdate()}))}}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.dc69dad6.chunk.js.map